(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Yj9t:function(t,r,e){"use strict";e.r(r),e.d(r,"AuthModule",function(){return h});var o=e("ofXK"),n=e("tyNb"),a=e("3Pt+");const i=t=>{if(!t.parent||!t)return null;const r=t.parent.get("password"),e=t.parent.get("passwordConfirm");return r&&e?""===e.value||r.value===e.value?null:{passwordsNotMaching:!0}:null};var s=e("fXoL"),l=e("qXBG"),c=e("dNgK"),m=e("kmnG"),b=e("qFsG"),u=e("bTqV"),d=e("f0Cb");const p=[{path:"register",component:(()=>{class t{constructor(t,r,e){this.authService=t,this.snackBar=r,this.router=e,this.registerForm=new a.d({email:new a.b("",{validators:[a.l.required,a.l.email]}),password:new a.b("",{validators:[a.l.required]}),passwordConfirm:new a.b("",{validators:[a.l.required,i]})})}register(){const{email:t,password:r}=this.registerForm.value;t&&r&&this.authService.register(t,r).subscribe(t=>{200==t.status&&t.body.successfull?(this.snackBar.open(t.body.msg,"Cancel"),this.router.navigateByUrl("/auth/login")):this.snackBar.open(t.body.error,"Cancel")},t=>{this.snackBar.open(t.error.error,"Cancel")})}}return t.\u0275fac=function(r){return new(r||t)(s.Nb(l.a),s.Nb(c.a),s.Nb(n.b))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-register"]],decls:33,vars:2,consts:[[1,"margin-auto","login-form"],[3,"formGroup","ngSubmit"],["type","email","matInput","","placeholder","abc123@example.com","formControlName","email"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","passwordConfirm"],["type","submit","mat-raised-button","","color","primary",1,"w-100","pt-15",3,"disabled"],[1,"align-center"],["routerLink","/auth/login"]],template:function(t,r){1&t&&(s.Tb(0,"div",0),s.Tb(1,"form",1),s.bc("ngSubmit",function(){return r.register()}),s.Tb(2,"mat-form-field"),s.Tb(3,"mat-label"),s.zc(4,"Your email"),s.Sb(),s.Ob(5,"input",2),s.Tb(6,"mat-hint"),s.zc(7,"Please enter your email."),s.Sb(),s.Tb(8,"mat-error"),s.zc(9,"Invalid or missing email."),s.Sb(),s.Sb(),s.Tb(10,"mat-form-field"),s.Tb(11,"mat-label"),s.zc(12,"Password"),s.Sb(),s.Ob(13,"input",3),s.Tb(14,"mat-hint"),s.zc(15,"Please enter your password."),s.Sb(),s.Tb(16,"mat-error"),s.zc(17,"Missing Password."),s.Sb(),s.Sb(),s.Tb(18,"mat-form-field"),s.Tb(19,"mat-label"),s.zc(20,"Password again"),s.Sb(),s.Ob(21,"input",4),s.Tb(22,"mat-error"),s.zc(23,"The two passwords are not the same."),s.Sb(),s.Sb(),s.Tb(24,"button",5),s.zc(25," Register "),s.Sb(),s.Ob(26,"mat-divider"),s.Tb(27,"div",6),s.Tb(28,"small"),s.zc(29," If you have an account yet, login "),s.Tb(30,"a",7),s.zc(31,"HERE"),s.Sb(),s.zc(32,"! "),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Cb(1),s.lc("formGroup",r.registerForm),s.Cb(23),s.lc("disabled",r.registerForm.invalid))},directives:[a.m,a.i,a.e,m.c,m.g,b.a,a.a,a.h,a.c,m.f,m.b,u.a,d.a,n.e],styles:[".login-form[_ngcontent-%COMP%]{width:260px;margin-top:100px}.login-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px}.login-form[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-top:10px}"]}),t})()},{path:"login",component:(()=>{class t{constructor(t,r,e){this.authService=t,this.snackBar=r,this.router=e,this.loginForm=new a.d({email:new a.b("",{validators:[a.l.required,a.l.email]}),password:new a.b("",{validators:[a.l.required]})})}login(){const{email:t,password:r}=this.loginForm.value;t&&r&&this.authService.login(t,r).subscribe(t=>{if(200==t.status&&t.body.successfull){const r=t.body.user;localStorage.setItem("user",JSON.stringify({id:r._id,email:r.email})),this.authService.user=r,this.snackBar.open(t.body.msg,"Cancel",{duration:3e3}),this.router.navigateByUrl("/products/list")}},t=>{this.snackBar.open(t.error.error,"Cancel",{duration:3e3})})}}return t.\u0275fac=function(r){return new(r||t)(s.Nb(l.a),s.Nb(c.a),s.Nb(n.b))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"margin-auto","login-form"],[3,"formGroup","ngSubmit"],["type","email","matInput","","placeholder","abc123@example.com","formControlName","email"],["type","password","matInput","","formControlName","password"],["type","submit","mat-raised-button","","color","primary",1,"w-100","pt-15",3,"disabled"],[1,"align-center"],["routerLink","/auth/register"]],template:function(t,r){1&t&&(s.Tb(0,"div",0),s.Tb(1,"form",1),s.bc("ngSubmit",function(){return r.login()}),s.Tb(2,"mat-form-field"),s.Tb(3,"mat-label"),s.zc(4,"Your email"),s.Sb(),s.Ob(5,"input",2),s.Tb(6,"mat-hint"),s.zc(7,"Please enter your email."),s.Sb(),s.Tb(8,"mat-error"),s.zc(9,"Invalid or missing email."),s.Sb(),s.Sb(),s.Tb(10,"mat-form-field"),s.Tb(11,"mat-label"),s.zc(12,"Password"),s.Sb(),s.Ob(13,"input",3),s.Tb(14,"mat-hint"),s.zc(15,"Please enter your password."),s.Sb(),s.Tb(16,"mat-error"),s.zc(17,"Missing Password."),s.Sb(),s.Sb(),s.Tb(18,"button",4),s.zc(19," Login "),s.Sb(),s.Ob(20,"mat-divider"),s.Tb(21,"div",5),s.Tb(22,"small"),s.zc(23," If you don't have an account yet, register "),s.Tb(24,"a",6),s.zc(25,"HERE"),s.Sb(),s.zc(26,"! "),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Cb(1),s.lc("formGroup",r.loginForm),s.Cb(17),s.lc("disabled",r.loginForm.invalid))},directives:[a.m,a.i,a.e,m.c,m.g,b.a,a.a,a.h,a.c,m.f,m.b,u.a,d.a,n.e],styles:[".login-form[_ngcontent-%COMP%]{width:260px;margin-top:100px}.login-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px}.login-form[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{margin-top:10px}"]}),t})()},{path:"",redirectTo:"/auth/login",pathMatch:"full"}];let g=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({imports:[[n.f.forChild(p)],n.f]}),t})();var f=e("hctd");let h=(()=>{class t{constructor(){}}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({imports:[[o.c,g,a.k,f.a]]}),t})()}}]);